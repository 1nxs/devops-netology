# Домашнее задание к занятию "5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"

## Задача 1

Дайте письменые ответы на следующие вопросы:

- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
- Какой алгоритм выбора лидера используется в Docker Swarm кластере?
- Что такое Overlay Network?
### Ответ
- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
  - `Global` - запускает одну задачу на каждой ноде. Предварительно заданного количества задач нет.
  - `Replicated` - запускает указанное количество идентичных задач (реплик).<br> В случае падения какой-либо ноды, Swarm запустит задачу на другой (поддерживает заданное количество реплик).
- Какой алгоритм выбора лидера используется в Docker Swarm кластере?
  - Используется алгоритм `Raft` 
  - Если долго нет ответа от лидера, то нода переходит в состояние кандидата, о чем сообщает остальным нодам.
  - Выборы происходят по принципу - кто был первым, большинством голосов. Если приходит ответ и от лидера, то все обнуляется до следующего инцидента.
  - https://docs.docker.com/engine/swarm/raft/
  - http://thesecretlivesofdata.com/raft/
- Что такое Overlay Network?
  - в понятиях Docker - L3 распределённая логическая сеть между несколькими узлами docker. Тк используется шифрование, позволяет контейнерам и узлам выполнять безопасный обмен данными.

## Задача 2

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker node ls
```

## Задача 3

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker service ls
```

## Задача 4 (*)

Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:
```
# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
```
        
